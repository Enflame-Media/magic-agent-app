name = "happy-app"
compatibility_date = "2025-09-15"
compatibility_flags = ["nodejs_compat"]
account_id = "81f483e6767ea3194467ecef42840f79"  # Same as happy-server-workers

[assets]
directory = "./dist"
not_found_handling = "single-page-application"

################################
#### PRODUCTION ENVIRONMENT ####
################################

[env.production]
name = "happy-app-production"
workers_dev = false
preview_urls = false
version_metadata = { binding = "CF_VERSION_METADATA" }

[[env.production.routes]]
pattern = "happy.enflamemedia.com"
custom_domain = true

[env.production.observability.logs]
enabled = true

[env.production.vars]
ENVIRONMENT = "production"
BASE_URL = "https://happy.enflamemedia.com"
API_BASE_URL = "https://happy-api.enflamemedia.com"

#################################
#### DEVELOPMENT ENVIRONMENT ####
#################################

[env.development]
name = "happy-app-development"
workers_dev = false
preview_urls = false
version_metadata = { binding = "CF_VERSION_METADATA" }

[[env.development.routes]]
pattern = "happy-dev.enflamemedia.com"
custom_domain = true

[env.development.observability.logs]
enabled = true

[env.development.vars]
ENVIRONMENT = "development"
BASE_URL = "https://happy-dev.enflamemedia.com"
API_BASE_URL = "https://happy-api-dev.enflamemedia.com"